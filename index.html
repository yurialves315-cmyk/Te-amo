<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nosso Próximo Capítulo</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Great+Vibes&display=swap');

        * {
            -webkit-tap-highlight-color: transparent;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 20px;
            background: #000;
            color: #ffffff;
            font-family: 'Playfair Display', serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            touch-action: manipulation;
            transition: background 3s ease;
        }

        /* Camada de Estrelas */
        #stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.5;
            animation: twinkle var(--duration) infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Tipografia Romântica */
        h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 3rem;
            color: #ffb3d9;
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(255, 179, 217, 0.6);
        }

        .revelar {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1.5s ease;
        }

        .visivel {
            display: block !important;
            opacity: 1 !important;
            transform: translateY(0) !important;
        }

        .foto-moldura {
            width: 200px;
            border-radius: 20px;
            border: 2px solid rgba(255, 179, 217, 0.4);
            margin: 20px 0;
            box-shadow: 0 0 25px rgba(255, 77, 148, 0.4);
        }

        .mensagem-card {
            font-style: italic;
            font-size: 1.1rem;
            line-height: 1.8;
            max-width: 330px;
            padding: 15px;
            color: #fefefe;
        }

        .contador-card {
            background: rgba(255, 77, 148, 0.05);
            padding: 20px;
            border-radius: 25px;
            border: 1px solid rgba(255, 179, 217, 0.3);
            width: 280px;
            box-shadow: 0 0 20px rgba(255, 77, 148, 0.15);
        }

        .dias-num {
            font-size: 3.8rem;
            font-weight: bold;
            color: #ff4d94;
            text-shadow: 0 0 10px rgba(255, 77, 148, 0.6);
        }

        /* Corações Caindo */
        .bg-heart {
            position: fixed;
            top: -10%;
            color: rgba(255, 77, 148, 0.3);
            z-index: -1;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        .click-heart {
            position: absolute;
            color: #ff4d94;
            font-size: 28px;
            pointer-events: none;
            animation: floatUp 2s ease-out forwards;
            z-index: 1000;
        }

        @keyframes floatUp {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }

        .instrucao {
            position: fixed;
            bottom: 30px;
            font-size: 0.7rem;
            letter-spacing: 3px;
            color: #ffb3d9;
            opacity: 0.6;
            text-transform: uppercase;
        }

        audio {
            width: 260px;
            filter: invert(1) hue-rotate(180deg) opacity(0.7);
        }
    </style>
</head>
<body id="mainBody">

    <div id="stars-container"></div>

    <h1 id="step1" class="revelar">Para o amor da minha vida</h1>

    <div id="step2" class="revelar" style="margin-bottom: 20px;">
        <audio controls id="track">
            <source src="musica.mp3" type="audio/mpeg">
        </audio>
    </div>

    <img id="step3" src="amor.jpg" alt="Nós" class="revelar foto-moldura">

    <div id="step4" class="revelar mensagem-card">
        "Dizem que as estrelas precisam da escuridão para brilhar mais forte. Talvez o nosso 'agora' precise de silêncio para que a gente se escute melhor. O que vivemos foi real demais para ser um ponto final; prefiro acreditar que é apenas uma vírgula."
    </div>

    <div id="step5" class="revelar contador-card">
        <span id="dias" class="dias-num">0</span><br>
        <span style="font-size: 0.8rem; letter-spacing: 2px; color: #ffb3d9;">DIAS DE UMA HISTÓRIA EM CURSO</span>
    </div>

    <div id="step6" class="revelar" style="margin-top: 30px;">
        <span style="font-family: 'Great Vibes'; font-size: 2.5rem; color: #ffb3d9; display: block;">
            Alguns capítulos precisam ser lidos sozinhos...
        </span>
        <span style="font-family: 'Playfair Display'; font-size: 0.9rem; color: rgba(255,255,255,0.7); letter-spacing: 3px; text-transform: uppercase;">
            Para que o próximo seja escrito juntos.
        </span>
    </div>

    <div id="hint" class="instrucao">Toque para revelar</div>

    <script>
        let currentStep = 1;
        const totalSteps = 6;
        const body = document.getElementById('mainBody');

        // Gerar estrelas ao fundo
        const starsContainer = document.getElementById('stars-container');
        for (let i = 0; i < 80; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + 'vw';
            star.style.top = Math.random() * 100 + 'vh';
            const size = Math.random() * 3 + 'px';
            star.style.width = size;
            star.style.height = size;
            star.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
            starsContainer.appendChild(star);
        }

        body.addEventListener('click', function(e) {
            const posX = e.pageX || (e.touches ? e.touches[0].pageX : 0);
            const posY = e.pageY || (e.touches ? e.touches[0].pageY : 0);

            const h = document.createElement('div');
            h.className = 'click-heart';
            h.innerHTML = '❤️';
            h.style.left = (posX - 15) + 'px';
            h.style.top = (posY - 15) + 'px';
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 2000);

            if (currentStep <= totalSteps) {
                const el = document.getElementById('step' + currentStep);
                if(el) {
                    el.classList.add('visivel');
                    if (currentStep === totalSteps) {
                        body.style.background = "radial-gradient(circle, #3d102b 0%, #000 100%)";
                        document.getElementById('hint').style.display = 'none';
                    }
                    currentStep++;
                }
            }
        });

        function createRain() {
            const h = document.createElement('div');
            h.className = 'bg-heart';
            h.innerHTML = '❤️';
            h.style.left = Math.random() * 100 + 'vw';
            h.style.fontSize = (Math.random() * 15 + 10) + 'px';
            h.style.animationDuration = (Math.random() * 3 + 5) + 's';
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 8000);
        }
        setInterval(createRain, 700);

        const startDate = new Date(2025, 6, 14); 
        const today = new Date();
        const diffDays = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
        document.getElementById('dias').innerText = Math.max(0, diffDays);
    </script>
</body>
</html>
